var $=function(t){"use strict";function e(t){for(let e=0;e<this.length;e++)t(this[e],e);return this}function n(t={}){return this._forEach(e=>{for(let[n,o]of Object.entries(t))e.style[n]=o}),this}function o(t){const e=t.trim().split(/\s+/);return this._forEach(t=>{for(let n of e)t.classList.toggle(n)}),this}const r=new WeakMap;function s(){for(let t of this){if(r.has(t))continue;const e={isDraggable:!1,offsetX:0,offsetY:0,currentX:0,currentY:0};r.set(t,e),t.style.cursor="grab";const n=()=>{t.style.transform=`translate(${e.currentX}px, ${e.currentY}px)`},o=function(t){e.isDraggable&&(e.currentX=t.clientX-e.offsetX,e.currentY=t.clientY-e.offsetY,n())},s=function(){e.isDraggable=!1,t.style.cursor="grab",window.removeEventListener("mousemove",o)},i=function(n){e.isDraggable=!0,e.offsetX=n.clientX-e.currentX,e.offsetY=n.clientY-e.currentY,t.style.cursor="grabbing",n.preventDefault(),window.addEventListener("mousemove",o),window.addEventListener("mouseup",s,{once:!0})};t.addEventListener("mousedown",i)}return this}async function i(t){if(!t||"string"!=typeof t)return console.error(" mi$.html(): Ruta inv치lida."),this;try{const e=await fetch(`./components${t}.html`);if(!e.ok)throw new Error(`HTTP ${e.status}`);const n=await e.text();this._forEach(t=>t.innerHTML+=n)}catch(t){console.error("mi$.html(): Fall칩 la carga del componente:",t)}return this}async function c(t,e={}){if(!t||"string"!=typeof t)return console.error("mi$.html(): Ruta inv치lida."),this;try{const n=Object.freeze({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),o=await fetch(`./components${t}.html`,n);if(!o.ok)throw new Error(`HTTP ${o.status}`);const r=await o.text();this._forEach(t=>t.innerHTML+=r)}catch(t){console.error("mi$.html(): Fall칩 la carga del componente:",t)}return this}function a(t,e){for(const n of this)n.addEventListener(t,e);return this}let f={};function l(t,e){new Set(["click","input"]).has(t)&&(!function(t,e){const n=f[t]||={};Object.assign(n,e)}(t,e),document.body.addEventListener(t,function(e){for(const[n,o]of Object.entries(f[t])){const t=e.target.closest(n);t&&o.call(p([t]),e)}}))}console.log(f);const u=window.Click=t=>l("click",t);window.Input=t=>l("input",t),u({".btn":function(t){console.log("button cliqueado")}});const d=new WeakMap;window.Drag=function(t){for(const[e,n]of Object.entries(t)){const t=p(e);for(const e of t)e.addEventListener("mousedown",t=>{const o=t.target.closest(n);if(!o)return;d.has(o)||(d.set(o,{isDraggable:!1,offsetX:0,offsetY:0,currentX:0,currentY:0}),o.style.cursor="grab","static"===getComputedStyle(o).position&&(o.style.position="relative"));const r=d.get(o);r.isDraggable=!0,r.offsetX=t.clientX-r.currentX,r.offsetY=t.clientY-r.currentY,o.style.cursor="grabbing";const s=t=>{if(!r.isDraggable)return;let n=t.clientX-r.offsetX,s=t.clientY-r.offsetY;const i=e.getBoundingClientRect(),c=o.getBoundingClientRect(),a=i.width-c.width,f=i.height-c.height;r.currentX=Math.max(0,Math.min(a,n)),r.currentY=Math.max(0,Math.min(f,s)),o.style.transform=`translate(${r.currentX}px, ${r.currentY}px)`},i=()=>{r.isDraggable=!1,o.style.cursor="grab",window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",i)};window.addEventListener("mousemove",s),window.addEventListener("mouseup",i),t.preventDefault()})}};let h={};window.On=function(t,e={}){"object"==typeof e&&null!=e?document.body.addEventListener(t,function(e){for(const[n,o]of Object.entries(h[t])){const t=e.target.closest(n);if(t){o.call(p(t),e);break}}}):console.error("handler debe ser un objeto")};const m=t=>{const r=Object.freeze({_forEach:e,off(t,e){for(let n of this)n.removeEventListener(t,e);return this},toggleClass:o,css:n,drag:s,on:a,get:i,post:c,html(t){for(let e of this)e.innerHTML=t;return this},animate(t){for(let e of this)requestAnimationFrame(()=>t(e));return this},addClass(t){for(let e of this)e.classList.add(t);return this},removeClass(t){for(let e of this)e.classList.remove(t);return this},containsClass(t){for(let e of this)e.classList.contains(t);return this},hide(){for(let t of this)t.style.display="none";return this}});return r},g=t=>new Proxy(t,{get(t,e){if(e in t)return t[e];if(e in m){const n=m[e];return Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!1}),n}},set(t,e,n){if(e in m)throw new Error(`No puedes sobreescribir el metodo .${e}`);return t[e]=n,!0}}),w=t=>{throw new Error(`Elemento Invalido --\x3e ${t} <--`)},b=function(t){if("function"!=typeof t)return"string"==typeof t?document.querySelectorAll(t):t instanceof Element||(t instanceof NodeList||Array.isArray(t)||w(t)),g(t),m();document.addEventListener("DOMContentLoaded",t)},p=t=>{if("function"!=typeof t)return"string"==typeof t?document.querySelector(t):t instanceof Element||w(t),g(t),m();document.addEventListener("DOMContentLoaded",t)};return window.$=p,window.$$=b,t.$=p,t.$$=b,t.error=w,t.x=(...t)=>false,t}({});
//# sourceMappingURL=$.min.js.map
