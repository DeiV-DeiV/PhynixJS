var $=function(){"use strict";function t(t){throw new Error(`Elemento Invalido --\x3e ${t} <--`)}const e=new WeakMap;const n=Object.freeze({append(t){if(!t)throw new Error("Ingresa template");if("string"!=typeof t)throw new Error("Solo acepto STRING")},val(t){if("string"!=typeof t)throw new Error("val espera string")},css(t,e){if("string"!=typeof t)throw new Error("css espera propiedad tipo string");if(!t.trim())throw new Error("propiedad no puede estar vacía");if("string"!=typeof e)throw new Error("css espera valor tipo string")},get(t,e){if("string"!=typeof t||!t.trim())throw new Error("URL inválida para get");if("function"!=typeof e)throw new Error("Callback debe ser función para get")},post(t,e,n){if("string"!=typeof t||!t.trim())throw new Error("URL inválida para post");if("object"!=typeof e||null===e)throw new Error("Datos inválidos para post");if("function"!=typeof n)throw new Error("Callback debe ser función para post")}});const o=Object.freeze({_forEach:function(t){for(let e=0;e<this.length;e++)t(this[e],e);return this},off(t,e){for(let n of this)n.removeEventListener(t,e);return this},toggleClass:function(t){const e=t.trim().split(/\s+/);return this._forEach(t=>{for(let n of e)t.classList.toggle(n)}),this},css:function(t={}){return this._forEach(e=>{for(let[n,o]of Object.entries(t))e.style[n]=o}),this},append:function(t){n.append(t);for(const e of this)e.insertAdjacentHTML("beforeend",t);return this},drag:function(){for(let t of this){if(e.has(t))continue;const n={isDraggable:!1,offsetX:0,offsetY:0,currentX:0,currentY:0};e.set(t,n),t.style.cursor="grab";const o=function(e){n.isDraggable&&(n.currentX=e.clientX-n.offsetX,n.currentY=e.clientY-n.offsetY,t.style.transform=`translate(${n.currentX}px, ${n.currentY}px)`)},r=function(){n.isDraggable=!1,t.style.cursor="grab",t.classList.toggle("select",!1),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",r)},s=function(e){n.isDraggable=!0,n.offsetX=e.clientX-n.currentX,n.offsetY=e.clientY-n.currentY,t.style.cursor="grabbing",t.classList.toggle("select",!0),e.preventDefault(),window.addEventListener("mousemove",o),window.addEventListener("mouseup",r,{once:!0})};t.addEventListener("mousedown",s)}return this},on:function(t,e){for(const n of this)n.addEventListener(t,e);return this},get:async function(t){if(!t||"string"!=typeof t)return console.error(" $.html(): Ruta inválida."),this;try{const e=await fetch(`./components${t}.html`);if(!e.ok)throw new Error(`HTTP ${e.status}`);const n=await e.text();this._forEach(t=>t.innerHTML+=n)}catch(t){console.error("$.html(): Falló la carga del componente:",t)}return this},post:async function(t,e={}){if(!t||"string"!=typeof t)return console.error("$.html(): Ruta inválida."),this;try{const n=Object.freeze({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),o=await fetch(`./components${t}.html`,n);if(!o.ok)throw new Error(`HTTP ${o.status}`);const r=await o.text();this._forEach(t=>t.innerHTML+=r)}catch(t){console.error("$.html(): Falló la carga del componente:",t)}return this},html(t){for(let e of this)e.innerHTML=t;return this},animate(t){for(let e of this)requestAnimationFrame(()=>t(e));return this},addClass(t){for(let e of this)e.classList.add(t);return this},removeClass(t){for(let e of this)e.classList.remove(t);return this},containsClass(t){for(let e of this)e.classList.contains(t);return this},hide(){for(let t of this)t.style.display="none";return this},val(){for(let t of this)t.value;return this}});function r(t){for(const e of Object.keys(o))Object.defineProperty(t,e,{value:o[e],writable:!1,configurable:!1,enumerable:!1});return t}let s={};const i=new Set;function a(t,e){i.has(t)||i.add(t);const n=s[t]||={};return Object.assign(n,e),n}const c=Object.freeze({ctrl:"ctrlKey",alt:"altKey",shift:"shiftKey",meta:"metaKey"});const l=Object.freeze({mousedown:function(t){const e=s.mousedown;for(const[n,o]of Object.entries(e)){const e=t.target.closest(n);if(e){const n=t.target.closest(o);if(!e||!n)return;let r=0,s=0,i=0,a=0;n.style.cursor="grabbing",n.classList.toggle("select"),r=t.clientX-i,s=t.clientY-a;const c=e.getBoundingClientRect(),l=n.getBoundingClientRect(),f=t=>{i=t.clientX-r,a=t.clientY-s;const e=c.width-l.width,o=c.height-l.height,f=Math.max(0,Math.min(i,e)),u=Math.max(0,Math.min(a,o));n.style.transform=`translate(${f}px, ${u}px)`},u=t=>{n.style.cursor="grab",n.classList.toggle("select"),window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",u)};window.addEventListener("mousemove",f),window.addEventListener("mouseup",u)}}},keydown:function(t){const e=s.keydown;e||console.log("falta agregar....");for(const[n,o]of Object.entries(e)){const e=n.toLowerCase().split("+");if(e.length<2||e.length>4)continue;const r=e.pop(),s=e.every(e=>c[e]&&t[c[e]]),i=t.key.toLowerCase()===r;s&&i&&o.call(d(t.target),t)}}});function f(t,e){if(a(t,e),!i.has(t)){const e=l[t]?function(e){l[t](e)}:function(e){for(const[n,o]of Object.entries(s[t])){e.target.closest(n)&&o.call(d(e.target),e)}};document.body.addEventListener(t,e),i.add(t)}}const u=console.log;function d(e){if("function"==typeof e)return void("loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e());const n="string"==typeof e?[document.querySelector(e)]:e instanceof Element?[e]:t(e);return n.length||t(e),r(n)}window.x=u,window.$$=function(e){if("function"==typeof e)return void document.addEventListener("DOMContentLoaded",e);const n="string"==typeof e?[...document.querySelectorAll(e)]:e instanceof Element?[e]:e instanceof NodeList||Array.isArray(e)?[...e]:t(e);return n.length||t(e),r(n)},window.$=d;window.On=(t,e={})=>f(t,e);window.Click=(t={})=>f("click",t);window.Input=(t={})=>f("input",t);window.Drag=(t={})=>f("mousedown",t);return window.Shortcut=(t={})=>f("keydown",t),window.Drop=function(t,{ext:e=["png","jpg","jpeg"]}={}){const n=e.map(t=>t.toLowerCase());a("drop",t),document.body.addEventListener("dragover",t=>{t.preventDefault()}),document.body.addEventListener("drop",function(o){o.preventDefault();if([...o.dataTransfer.files].filter(t=>{const e=t.name.split(".").pop().toLowerCase();return!n.includes(e)}).length>0)return console.error(`Extensiones permitidas: --\x3e ${e.join(" ")} <--`);for(const[e,n]of Object.entries(t)){const t=o.target.closest(e);t&&n.call(t,o)}})},d}();
//# sourceMappingURL=$.min.js.map
