var $=function(){"use strict";const e=Object.freeze({red:e=>`[31m${e}[0m`,green:e=>`[32m${e}[0m`,yellow:e=>`[33m${e}[0m`,blue:e=>`[34m${e}[0m`,magenta:e=>`[35m${e}[0m`,cyan:e=>`[36m${e}[0m`,white:e=>`[37m${e}[0m`,bold:e=>`[1m${e}[0m`,underline:e=>`[4m${e}[0m`,bgRed:e=>`[41m${e}[0m`,bgGreen:e=>`[42m${e}[0m`,bgYellow:e=>`[43m${e}[0m`,bgCyan:e=>`[46m${e}[0m`});function t(t){const n={args:t};for(const[t,o]of Object.entries(e))n[t]=function(){return console.log(o(this.args)),this};return n}window.x=t;const n=Object.freeze({on(e,t){"string"==typeof e&&e.trim()||console.error(`El ${e} no existe`);for(const[e,n]of Object.entries(t))"string"==typeof e&&e.trim()||console.error(`El ${e} no existe`),"function"==typeof n&&null!==n||console.error(`El ${n} no es una funcion`)},append(e){if(!e)throw new Error("Ingresa template");if("string"!=typeof e)throw new Error("Solo acepto STRING")},val(e){if("string"!=typeof e)throw new Error("val espera string")},css(e,t){if("string"!=typeof e)throw new Error("css espera propiedad tipo string");if(!e.trim())throw new Error("propiedad no puede estar vacÃ­a");if("string"!=typeof t)throw new Error("css espera valor tipo string")},get(e,t){if("string"!=typeof e||!e.trim())throw new Error("URL invÃ¡lida para get");if("function"!=typeof t)throw new Error("Callback debe ser funciÃ³n para get")},post(e,t,n){if("string"!=typeof e||!e.trim())throw new Error("URL invÃ¡lida para post");if("object"!=typeof t||null===t)throw new Error("Datos invÃ¡lidos para post");if("function"!=typeof n)throw new Error("Callback debe ser funciÃ³n para post")}}),o=Object.freeze({node:{fn:e=>Array.isArray(e)?e.some(e=>!(e instanceof Node)):!(e instanceof Node),msg:"No es un Node"},string:{fn:e=>Array.isArray(e)?e.some(e=>"string"!=typeof e||!e.trim()):"string"!=typeof e||!e.trim(),msg:"No es un string vÃ¡lido"},callback:{fn:e=>"function"!=typeof e||null===e,msg:"Debe ser una funciÃ³n"},object:{fn:e=>"object"!=typeof e||null===e,msg:"Solo acepto objeto"},array:{fn:e=>!Array.isArray(e),msg:"Esperando un arreglo"},number:{fn:e=>"number"!=typeof e,msg:"Esperando un nÃºmero"}});function r(e={}){for(const[n,{fn:r,msg:s}]of Object.entries(o)){const o=e[n];if(n in e&&r(o)){const e=Array.isArray(o)?`${s} :\n [${o.map((e,n)=>r(e)?`${t(JSON.stringify(e)).red()}`:`${t(e).cyan()}`).join(", ")}]`:`${s}: ${o}`;console.log(e)}}}function s(e,t){if(r({string:[e,t]}),e.nodeType!==t.nodeType||e.nodeName!==t.nodeName)return void e.replaceWith(t.cloneNode(!0));const n=[...e.attributes],o=[...t.attributes];for(const t of o)e.getAttribute(t.name)!==t.value&&e.setAttribute(t.name,t.value);for(const o of n)t.hasAttribute(o.name)||e.removeAttribute(o.name);const i=[...realNode.childNodes],c=[...virtualNode.childNodes],a=Math.max(i.length,c.length);for(let t=0;t<a;t++)!i[t]&&c[t]?e.appendChild(c[t].cloneNode(!0)):i[t]&&!c[t]?(i[t].remove(),t--):i[t]&&c[t]&&s(i[t],c[t])}window.Validate=r;const i=new Set;function c({selector:e="body",method:t="GET",template:n,script:o,style:c,data:a={}},{once:l=!0}={}){return r({string:[e,t,n,o,c],object:a}),async function(){if(!n&&!o&&!c)return;if(l&&i.has(n))return console.warn(`Componente cargado en el ${e}...`);const r=document.querySelector(e);if(!r)return console.warn(`--\x3e ${e} <-- no existe en el documento...`);try{const e={method:t},f=await fetch(`./components/${n}`,e),u=(await f.text()).replace(/{{(.*?)}}/g,(e,t)=>a[t.trim()]??"");if(s(r,(new DOMParser).parseFromString(u,"text/html").body),l&&i.add(n),c&&!document.querySelector(`link[href="./components/${c}"]`)){const e=document.createElement("link");e.rel="stylesheet",e.href=`./components/${c}`,document.head.appendChild(e)}if(o&&!document.querySelector(`script[src="./components/${o}"]`)){const e=document.createElement("script");e.src=`./components/${o}`,e.type="module",document.body.appendChild(e)}}catch(e){const t=await fetch("./components/error/error.html"),n=await t.text();s(r,(new DOMParser).parseFromString(n,"text/html").body)}}}function a(e){throw new Error(`Elemento Invalido --\x3e ${e} <--`)}window.Component=c,console.log(i),c({template:"",style:"",script:""});const l=new WeakMap;const f=Object.freeze({_forEach:function(e){for(let t=0;t<this.length;t++)e(this[t],t);return this},off(e,t){for(let n of this)n.removeEventListener(e,t);return this},toggleClass:function(e){const t=e.trim().split(/\s+/);return this._forEach(e=>{for(let n of t)e.classList.toggle(n)}),this},css:function(e={}){return this._forEach(t=>{for(let[n,o]of Object.entries(e))t.style[n]=o}),this},append:function(e){n.append(e);for(const t of this)t.insertAdjacentHTML("beforeend",e);return this},drag:function(){for(let e of this){if(l.has(e))continue;const t={isDraggable:!1,offsetX:0,offsetY:0,currentX:0,currentY:0};l.set(e,t),e.style.cursor="grab";const n=function(n){t.isDraggable&&(t.currentX=n.clientX-t.offsetX,t.currentY=n.clientY-t.offsetY,e.style.transform=`translate(${t.currentX}px, ${t.currentY}px)`)},o=function(){t.isDraggable=!1,e.style.cursor="grab",e.classList.toggle("select",!1),window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",o)},r=function(r){t.isDraggable=!0,t.offsetX=r.clientX-t.currentX,t.offsetY=r.clientY-t.currentY,e.style.cursor="grabbing",e.classList.toggle("select",!0),r.preventDefault(),window.addEventListener("mousemove",n),window.addEventListener("mouseup",o,{once:!0})};e.addEventListener("mousedown",r)}return this},on:function(e,t){for(const n of this)n.addEventListener(e,t);return this},get:async function(e){if(!e||"string"!=typeof e)return console.error(" $.html(): Ruta invÃ¡lida."),this;try{const t=await fetch(`./components${e}.html`);if(!t.ok)throw new Error(`HTTP ${t.status}`);const n=await t.text();this._forEach(e=>e.innerHTML+=n)}catch(e){console.error("$.html(): FallÃ³ la carga del componente:",e)}return this},post:async function(e,t={}){if(!e||"string"!=typeof e)return console.error("$.html(): Ruta invÃ¡lida."),this;try{const n=Object.freeze({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),o=await fetch(`./components${e}.html`,n);if(!o.ok)throw new Error(`HTTP ${o.status}`);const r=await o.text();this._forEach(e=>e.innerHTML+=r)}catch(e){console.error("$.html(): FallÃ³ la carga del componente:",e)}return this},html(e){for(let t of this)t.innerHTML=e;return this},animate(e){for(let t of this)requestAnimationFrame(()=>e(t));return this},addClass(e){for(let t of this)t.classList.add(e);return this},removeClass(e){for(let t of this)t.classList.remove(e);return this},containsClass(e){for(let t of this)t.classList.contains(e);return this},hide(){for(let e of this)e.style.display="none";return this},val(){for(let e of this)e.value;return this}});function u(e){const t={ele:Array.isArray(e)?e:[e],apply(e){for(const t of this.ele)e(t);return this}};for(const[e,n]of Object.entries(f))t[e]=function(...e){return t.apply(function(t){n(t,...e)}),t};return t}const d=new Set,m={};function p(e,t){r({string:e,object:t});const n=m[e]||={};Object.assign(n,t),d.has(e)||(d.add(e),document.body.addEventListener(e,function(e){for(const[t,o]of Object.entries(n)){const n=e.target.closest(t);n&&o.call(n,e)}}))}function g(e){if("function"==typeof e)return void("loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e());const t="string"==typeof e?document.querySelector(e):e instanceof Element?e:a(e);return t.length||a(e),u(t)}window.On=p,console.log("Mapeo de Eventos: \n",m),window.$$=function(e){if("function"==typeof e)return void document.addEventListener("DOMContentLoaded",e);const t="string"==typeof e?[...document.querySelectorAll(e)]:e instanceof Element?[e]:e instanceof NodeList||Array.isArray(e)?[...e]:a(e);return t.length||a(e),u(t)},window.$=g;window.Click=(e={})=>p("click",e);return window.Input=(e={})=>p("input",e),window.Drag=function(e={}){p("mousedown",function(t){for(const[n,o]of Object.entries(e)){const e=t.target.closest(n);if(e){const n=t.target.closest(o);if(!e||!n)return;let r=0,s=0,i=0,c=0;n.style.cursor="grabbing",n.classList.toggle("select"),r=t.clientX-i,s=t.clientY-c;const a=e.getBoundingClientRect(),l=n.getBoundingClientRect(),f=e=>{i=e.clientX-r,c=e.clientY-s;const t=a.width-l.width,o=a.height-l.height,f=Math.max(0,Math.min(i,t)),u=Math.max(0,Math.min(c,o));n.style.transform=`translate(${f}px, ${u}px)`},u=e=>{n.style.cursor="grab",n.classList.toggle("select"),window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",u)};window.addEventListener("mousemove",f),window.addEventListener("mouseup",u)}}})},window.Drop=function(e={},{ext:t=["png","jpg","jpeg"]}={}){const n=t.map(e=>e.toLowerCase());p("dragstart",e=>{e.target}),p("dragover",e=>{e.preventDefault()}),p("dragenter",e=>{console.log("drag enter");e.target&&e.preventDefault()}),p("drop",function(o){o.preventDefault();if([...o.dataTransfer.files].filter(e=>{const t=e.name.split(".").pop().toLowerCase();return!n.includes(t)}).length>0)return console.error(`Extensiones permitidas: --\x3e ${t.join(" ")} <--`);for(const[t,n]of Object.entries(e)){const e=o.target.closest(t);e&&n.call(e,o)}})},g}();
//# sourceMappingURL=$.min.js.map
