{"version":3,"file":"mi$.js","sources":["../ajax.js","../dom.js","../core.js","../index.js"],"sourcesContent":["//ajax.js\r\n\r\nexport function get() {\r\n  return async function (template) {\r\n    if (!template || typeof template !== \"string\") {\r\n      console.error(\"❌ mi$.html(): Ruta inválida.\");\r\n      return this;\r\n    }\r\n    try {\r\n      const res = await fetch(`./components${template}.html`);\r\n      if (!res.ok) throw new Error(`HTTP ${res.status}`);\r\n      const html = await res.text();\r\n      this._forEach((el) => (el.innerHTML += html));\r\n    } catch (error) {\r\n      console.error(\"❌ mi$.html(): Falló la carga del componente:\", error);\r\n    }\r\n    return this;\r\n  };\r\n}\r\n\r\nexport function post() {\r\n  return async function (template,body = {}) {\r\n    if (!template || typeof template !== \"string\") {\r\n      console.error(\"❌ mi$.html(): Ruta inválida.\");\r\n      return this;\r\n    }\r\n\r\n    try {\r\n      const opts = Object.freeze({\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      });\r\n\r\n      const res = await fetch(`./components${template}.html`, opts);\r\n      if (!res.ok) throw new Error(`HTTP ${res.status}`);\r\n      const html = await res.text();\r\n      this._forEach((el) => (el.innerHTML += html));\r\n    } catch (error) {\r\n      console.error(\"❌ mi$.html(): Falló la carga del componente:\", error);\r\n    }\r\n    return this;\r\n  };\r\n}\r\n","// dom.js\r\n\r\nimport { get, post } from \"./ajax\";\r\n\r\nexport const metodos = Object.freeze({\r\n  _forEach() {\r\n    return function (callback) {\r\n      for (let i = 0; i < this.length; i++) {\r\n        callback(this[i], i);\r\n      }\r\n      return this;\r\n    };\r\n  },\r\n\r\n  on() {\r\n    return function (ev, callback) {\r\n      this._forEach((ele) => ele.addEventListener(ev, callback));\r\n      return this;\r\n    };\r\n  },\r\n\r\n  css() {\r\n    return function(style){\r\n      this._forEach(ele => Object.assign(ele.style,style))\r\n      return this\r\n    }\r\n  },\r\n\r\n  get,\r\n  post\r\n});\r\n\r\n\r\n","// core.js\r\n// consume menos memoria, mi punto es ese\r\n\r\nimport { metodos } from \"./dom\";\r\n\r\nconst DEBUG = false;\r\nconst x = (...args) => DEBUG && console.log(...args);\r\n\r\nconst isDev = false;  // usar FALSE para produccion\r\n\r\nexport const mi$ = (selector) => {\r\n  if (typeof selector === \"function\") {\r\n    document.addEventListener(\"DOMContentLoaded\", selector);\r\n    return;\r\n  }\r\n\r\n  if (typeof selector === \"string\") {\r\n    const elements = Array.from(document.querySelectorAll(selector));\r\n\r\n    if (isDev) {\r\n      return new Proxy(elements, {\r\n        get(target, prop) {\r\n          if (prop in target) return target[prop];\r\n          if (prop in metodos) {\r\n            const fn = metodos[prop]();\r\n            Object.defineProperty(target, prop, {\r\n              value: fn,\r\n              writable: false,\r\n              configurable: false,\r\n              enumerable: false,\r\n            });\r\n\r\n            return fn;\r\n          }\r\n\r\n          return undefined;\r\n        },\r\n      });\r\n    } else {\r\n      // evita usar proxy\r\n      for (const key of Object.keys(metodos)) {\r\n        Object.defineProperty(elements, key, {\r\n          value: metodos[key](),\r\n          writable: false,\r\n          configurable: false,\r\n          enumerable: false,\r\n        });\r\n      }\r\n    }\r\n\r\n    // Previene agregar nuevas propiedades\r\n    Object.freeze(elements);\r\n\r\n    return elements;\r\n  }\r\n\r\n  return [];\r\n};\r\n","// index.js\r\nimport { mi$ } from \"./core.js\";\r\n\r\nexport const $ = (selector) => mi$(selector);\r\nwindow.$ = (selector) => mi$(selector)\r\n"],"names":[],"mappings":"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"}