{"version":3,"file":"mi$.js","sources":["../src/ajax.js","../src/effects.js","../src/dom.js","../src/core.js","../src/index.js"],"sourcesContent":["//ajax.js\r\n\r\nexport async function get(template) {\r\n  if (!template || typeof template !== \"string\") {\r\n    console.error(\"❌ mi$.html(): Ruta inválida.\");\r\n    return this;\r\n  }\r\n  try {\r\n    const res = await fetch(`./components${template}.html`);\r\n    if (!res.ok) throw new Error(`HTTP ${res.status}`);\r\n    const html = await res.text();\r\n    this._forEach((el) => (el.innerHTML += html));\r\n  } catch (error) {\r\n    console.error(\"❌ mi$.html(): Falló la carga del componente:\", error);\r\n  }\r\n  return this;\r\n}\r\n\r\nexport async function post(template, body = {}) {\r\n  if (!template || typeof template !== \"string\") {\r\n    console.error(\"❌ mi$.html(): Ruta inválida.\");\r\n    return this;\r\n  }\r\n\r\n  try {\r\n    const opts = Object.freeze({\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    });\r\n\r\n    const res = await fetch(`./components${template}.html`, opts);\r\n    if (!res.ok) throw new Error(`HTTP ${res.status}`);\r\n    const html = await res.text();\r\n    this._forEach((el) => (el.innerHTML += html));\r\n  } catch (error) {\r\n    console.error(\"❌ mi$.html(): Falló la carga del componente:\", error);\r\n  }\r\n  return this;\r\n}\r\n","// effects.js\r\n\r\nexport function drag() {\r\n  this._forEach((el) => {\r\n    el.style.cursor = \"grab\";\r\n    el.style.position = \"relative\";\r\n    let isDraggable = false;\r\n    let offsetX = 0,\r\n      offsetY = 0;\r\n    let currentX = 0,\r\n      currentY = 0;\r\n\r\n    const UpdatePos = () => {\r\n      el.style.transform = `translate(${currentX}px, ${currentY}px)`;\r\n    };\r\n\r\n    const onMouseDown = function (e) {\r\n      isDraggable = true;\r\n      offsetX = e.clientX - currentX;\r\n      offsetY = e.clientY - currentY;\r\n      el.style.cursor = \"grabbing\";\r\n      e.preventDefault();\r\n    };\r\n    const onMouseMove = function (e) {\r\n      if (!isDraggable) return;\r\n      currentX = e.clientX - offsetX;\r\n      currentY = e.clientY - offsetY;\r\n      UpdatePos();\r\n    };\r\n    const onMouseUp = function () {\r\n      isDraggable = false;\r\n      el.style.cursor = \"grab\";\r\n    };\r\n\r\n    el.addEventListener(\"mousedown\", onMouseDown);\r\n    window.addEventListener(\"mousemove\", onMouseMove);\r\n    window.addEventListener(\"mouseup\", onMouseUp);\r\n  });\r\n  return this;\r\n}\r\n","// dom.js\r\n\r\nimport * as ayax from \"./ajax.js\";\r\nimport * as effects from \"./effects.js\"\r\n\r\n\r\nexport const metodos = Object.freeze({\r\n  _forEach(callback) {\r\n    for (let i = 0; i < this.length; i++) {\r\n      callback(this[i], i);\r\n    }\r\n    return this;\r\n  },\r\n\r\n  on(ev, callback) {\r\n    this._forEach((ele) => ele.addEventListener(ev, callback));\r\n    return this;\r\n  },\r\n\r\n  off(ev,callback){\r\n    this._forEach(el=>el.removeEventListener(ev,callback))\r\n    return this\r\n  },\r\n\r\n  css(style = {}) {\r\n    \r\n    this._forEach((el) => {\r\n      for(let [prop,val] of  Object.entries(style)){\r\n        el.style[prop] = val\r\n      }\r\n    });\r\n    return this;\r\n  },\r\n\r\n  html(html){\r\n    this._forEach(el => el.innerHTML = html)  \r\n    return this\r\n  },\r\n\r\n  animate(animate){\r\n    this._forEach(el=>requestAnimationFrame(()=>animate(el)))\r\n    return this\r\n  },\r\n\r\n  addClass(classname){\r\n    this._forEach(el=>el.classList.add(classname))\r\n    return this\r\n  },\r\n\r\n  removeClass(classname){\r\n    this._forEach(el=>el.classList.remove(classname))\r\n    return this\r\n  },\r\n\r\n  toggleClass(classname){\r\n    const clase = classname.trim().split(/\\s+/);\r\n    this._forEach(el=>{\r\n      for(let cls of clase){\r\nel.classList.toggle(cls)\r\n      }\r\n      clase._forEach((cls)=>{})\r\n    })\r\n    return this\r\n  },\r\n\r\n  ...ayax,\r\n  ...effects,\r\n});\r\n","// core.js\r\n// consume menos memoria, mi punto es ese\r\n\r\nimport { metodos } from \"./dom.js\";\r\n\r\nconst DEBUG = false;\r\nconst x = (...args) => DEBUG && console.log(...args);\r\n\r\nconst DEV_MODO = true; // usar FALSE para produccion\r\n\r\nconst aplicarMetodos = (nodoArray) => {\r\n  // evita usar proxy\r\n  for (const nameMetodo of Object.keys(metodos)) {\r\n    Object.defineProperty(nodoArray, nameMetodo, {\r\n      value: metodos[nameMetodo],\r\n      writable: false,\r\n      configurable: false,\r\n      enumerable: false,\r\n    });\r\n  }\r\n\r\n  // Previene agregar nuevas propiedades\r\n  return nodoArray\r\n  // return Object.freeze(nodoArray);\r\n  // Object.freeze(Persona.prototype);\r\n};\r\n\r\nconst usarProxyProtegido = (nodoArray) => {\r\n  return new Proxy(nodoArray, {\r\n    get(target, prop) {\r\n      if (prop in target) return target[prop];\r\n      if (prop in metodos) {\r\n        const fn = metodos[prop];\r\n        Object.defineProperty(target, prop, {\r\n          value: fn,\r\n          writable: false,\r\n          configurable: false,\r\n          enumerable: false,\r\n        });\r\n\r\n        return fn;\r\n      }\r\n\r\n      return undefined;\r\n    },\r\n\r\n    set(target, prop, value) {\r\n      if (prop in metodos)\r\n        throw new Error(`No puedes sobreescribir el metodo ${prop}`);\r\n      target[prop] = value;\r\n      return true;\r\n    },\r\n  });\r\n};\r\n\r\nexport const mi$ = (selector) => {\r\n  if (typeof selector === \"function\") {\r\n    document.addEventListener(\"DOMContentLoaded\", selector);\r\n    return;\r\n  }\r\n\r\n  if (typeof selector === \"string\") {\r\n    const elements = Array.from(document.querySelectorAll(selector));\r\n    \r\n    return DEV_MODO\r\n      ? usarProxyProtegido(elements)\r\n      : aplicarMetodos(elements);\r\n  }\r\n\r\n  return [];\r\n};\r\n","// index.js\r\nimport { mi$ } from \"./core.js\";\r\n\r\nexport const $ = (selector) => mi$(selector);\r\nwindow.$ = (selector) => mi$(selector)\r\n"],"names":[],"mappings":"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"}